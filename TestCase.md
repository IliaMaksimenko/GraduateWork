# Тестовые сценарии к депломному проекту

## Оплата тура картой

#### Предусловия:

- открыть страницу http://localhost:8080/
- нажать кнопку Купить

### Позитивный сценарий:

**Описание:** Заполнение всех полей ввода валидными значениями. 

**Шаги вопроизведения:** 

- ввести в поле **Номер карты** значение **4444 4444 4444 4441** ---> валидное значение, заложеное условиями задания и прописанное в скрипте симулятора
- ввести в поле **Месяц** значение в интервале от **01** до **12** ---> значение будет валидным, если в поле Год указано значение на 1 больше текущего года
- ввести в поле **Год** значение последние **две цифры текущего года + 1** ---> значение будет валидным, если оно больше или равно текущему году и не првышает значение текущего года больше чем на 5
- ввести в поле **Владелец** буквенное значение на латинице ---> поле ввода не имеет ограничений по количеству символов, валидность обусловлена логикой и общими требованиями к аналогичным полям
- ввести в поле **CVC/CVV** значение в интервале от **100** до **999** ---> валидное значение, обусловленное логикой и общими требованию к аналогичным полям 
- нажать кнопку **Продолжить**

**Ожидаемый результат:** в правом верхнем углу экрана всплывает сообщение **Успешно Операция одобрена банком.** Происходить запись результата запроса в БД: в таблице **payment_entity** добавляется строка со статусом **APPROVED**

### Негативные сценарии:

1. **Отправка пустой формы**

**Описание:** отправка полностью пустой формы позволит определить работоспособность формы и отклики на взаимодействия с системой.

**Шаги вопроизведения:** 

- нажать кнопку **Продолжить**

**Ожидаемый результат:** отправка данных не выполнена. Под всеми полями ввода появляется сообщение валидации о необходимости заполнения поля

2. **Отправка карты** со статусом **DECLINED**

**Описание:** по условию задания, нам предоставлены два номера карты для тестов, одна зарегестрирована в базе со статусом **APPROVED**, вторая со статусом **DECLINED**

**Шаги вопроизведения:** 

- ввести в поле **Номер карты** значение **4444 4444 4444 4442** ---> по условию задания, карта с этим номером имеет зарегестрирована в системе со статусом **DECLINED**
- ввести в поле **Месяц** валидное значение
- ввести в поле **Год** валидное значение 
- ввести в поле **Владелец** валидное значение 
- ввести в поле **CVC/CVV** валидное значение
- нажать кнопку **Продолжить**

**Ожидаемый результат:** в правом верхнем углу экрана всплывает сообщение **Ошибка! Банк отказал в проведении операции.** Происходить запись результата запроса в БД: в таблице **payment_entity** добавляется строка со статусом **DECLINED**

3. **Отправка карты** не зарегестрированной в системе

**Шаги вопроизведения:** 

- ввести в поле **Номер карты** значение **4444 4444 4444 4443** ---> по условию задания, карта с этим номером в системе не зарегестрирована
- ввести в поле **Месяц** валидное значение
- ввести в поле **Год** валидное значение 
- ввести в поле **Владелец** валидное значение 
- ввести в поле **CVC/CVV** валидное значение
- нажать кнопку **Продолжить**

**Ожидаемый результат:** в правом верхнем углу экрана всплывает сообщение **Ошибка! Банк отказал в проведении операции.** Происходить запись результата запроса в БД: в таблице **payment_entity** добавляется строка со статусом **DECLINED**

4. **Проверка валидации поля Месяц**  
  4.1. Не заполненнное поле
    - ввести в поле **Номер карты** валидное значение зарегестрированной карты
    - оставить поле **Месяц** не заполненным ---> проверка поля на обязательность заполнения
    - ввести в поле **Год** валидное значение 
    - ввести в поле **Владелец** валидное значение 
    - ввести в поле **CVC/CVV** валидное значение
    - нажать кнопку **Продолжить**  
    
    **Ожидаемый результат:** отправка данных не выполнена. Под полем ввода **Месяц** появляется сообщение валидации о необходимости заполнения поля **Неверный формат**. В БД запись не добавляется.    
    
    4.2. Ввод в поле **Месяц** невалидного значения  
     - ввести в поле **Номер карты** валидное значение зарегестрированной карты  
     - ввести в поле **Месяц** значение более **12** ---> т.к. в году не может быть более 12 месяцев, любое значение больше этой цифры будет не валидным
     - ввести в поле **Год** валидное значение   
     - ввести в поле **Владелец** валидное значение   
     - ввести в поле **CVC/CVV** валидное значение  
     - нажать кнопку **Продолжить**    
    
    **Ожидаемый результат:** отправка данных не выполнена. Под полем ввода **Месяц** появляется сообщение валидации о необходимости заполнения поля **Неверный формат**. В БД запись не добавляется.  

   4.3. Ввод в поле **Месяц** значение, которое меньше текущего месяца в текущем году
     - ввести в поле **Номер карты** валидное значение зарегестрированной карты
     - ввести в поле **Год** валидное значение равное последним двум цифрам текущего года
     - ввести в поле **Месяц** значение, которое менее значения текущего месяца ---> поля Месяц и Год вместе образуют срок, до которого действительна карта, если сумарная дата введеных значений менее текущей, такая сумарная дата будет не валидной (пример: 09)    
     - ввести в поле **Владелец** валидное значение 
     - ввести в поле **CVC/CVV** валидное значение
     - нажать кнопку **Продолжить**  
    
    **Ожидаемый результат:** отправка данных не выполнена. Под полем ввода **Месяц** появляется сообщение валидации о необходимости заполнения поля **Неверно указан срок действия карты**. В БД запись не добавляется.    
    
    4.4. Ввод в поле **Месяц** неполного значения  

      - ввести в поле **Номер карты** валидное значение зарегестрированной карты    
      - ввести в поле **Месяц** валидное значение ---> ввод в поле значение на один символ меньше валидного (пример: 1)   
      - ввести в поле **Год** валидное значение     
      - оставить поле **Владелец** не заполненым   
      - ввести в поле **CVC/CVV** валидное значение  
      - нажать кнопку **Продолжить**    

      **Ожидаемый результат:** отправка данных не выполнена. Под полем ввода **Месяц** появляется сообщение валидации о необходимости заполнения поля **Неверный формат**. В БД запись не добавляется.      


5. **Проверка Валидации поля Год**  

   5.1. Не заполненное поле  
     - ввести в поле **Номер карты** валидное значение зарегестрированной карты  
     - ввести в поле **Месяц** валидное значение  
     - оставить поле **Год** не заполненым ---> проверка поля на обязательность заполнения
     - ввести в поле **Владелец** валидное значение   
     - ввести в поле **CVC/CVV** валидное значение  
     - нажать кнопку **Продолжить**  

    **Ожидаемый результат:** отправка данных не выполнена. Под полем ввода **Год** появляется сообщение валидации о необходимости заполнения поля **Неверный формат**. В БД запись не добавляется.  
  
    5.2. Ввод в поле **Год** значения, которое меньше последних двух цифр текущего года  
      - ввести в поле **Номер карты** валидное значение зарегестрированной карты 
      - ввести в поле **Месяц** валидное значение
      - ввести в поле **Год** значение, которое меньше последних двух цифр текущего года ---> карта с таким значением считается просроченной (пример: 21)
      - ввести в поле **Владелец** валидное значение 
      - ввести в поле **CVC/CVV** валидное значение
      - нажать кнопку **Продолжить**

      **Ожидаемый результат:** отправка данных не выполнена. Под полем ввода **Год** появляется сообщение валидации о необходимости заполнения поля **Истёк срок действия карты**. В БД запись не добавляется.  

    5.3. Ввод в поле **Год** значения, которое больше последних двух цифр текущего года более чем на 5  
      - ввести в поле **Номер карты** валидное значение зарегестрированной карты   
      - ввести в поле **Месяц** валидное значение  
      - ввести в поле **Год** значение, которое больше последних двух цифр текущего года более чем на 5 ---> банковские карты выпускются на 5 лет, поэтому число, которое больше значения текущего более чем на 5 считается не валидным (пример: 28)   
      - ввести в поле **Владелец** валидное значение  
      - ввести в поле **CVC/CVV** валидное значение  
      - нажать кнопку **Продолжить**   

    **Ожидаемый результат:** отправка данных не выполнена. Под полем ввода **Год** появляется сообщение валидации о необходимости заполнения поля **Неверно указан срок действия карты**. В БД запись не добавляется.     

    5.4. Ввод в поле **Год** неполного значения    

      - ввести в поле **Номер карты** валидное значение зарегестрированной карты    
      - ввести в поле **Месяц** валидное значение    
      - ввести в поле **Год** неполное значение ---> ввод в поле значение на один символ меньше валидного (пример: 2)    
      - ввести в поле **Владелец** валидное значение   
      - ввести в поле **CVC/CVV** валидное значение    
      - нажать кнопку **Продолжить**    

    **Ожидаемый результат:** отправка данных не выполнена. Под полем ввода **Год** появляется сообщение валидации о необходимости заполнения поля **Неверный формат**. В БД запись не добавляется.    

6. **Проверка валидации поля Владелец**    

    6.1. Не заполненное поле    

      - ввести в поле **Номер карты** валидное значение зарегестрированной карты    
      - ввести в поле **Месяц** валидное значение    
      - ввести в поле **Год** валидное значение     
      - оставить поле **Владелец** не заполненым ---> проверка поля на обязательность заполнения    
      - ввести в поле **CVC/CVV** валидное значение    
      - нажать кнопку **Продолжить**    

    **Ожидаемый результат:** отправка данных не выполнена. Под полем ввода **Владелец** появляется сообщение валидации о необходимости заполнения поля **Поле обязательно для заполнения**. В БД запись не добавляется.      

    6.2. Ввод в поле **Владелец** невалидных символов (цифры)      

      - ввести в поле **Номер карты** валидное значение зарегестрированной карты      
      - ввести в поле **Месяц** валидное значение       
      - ввести в поле **Год** валидное значение       
      - ввести в поле **Владелец** значение, состоящее из цифр ---> стандарт банковских карт ISO/IEC 7811-1 предписывает обозначать владельца только латинскими буквами, любые другие символы в этом поле считаются невалидными (пример: 4)       
      - ввести в поле **CVC/CVV** валидное значение      
      - нажать кнопку **Продолжить**      

    **Ожидаемый результат:** отправка данных не выполнена. Под полем ввода **Владелец** появляется сообщение валидации о необходимости заполнения поля **Неверный формат**. В БД запись не добавляется.      

    6.3. Ввод в поле **Владелец** невалидных символов (спецсимволы)    

      - ввести в поле **Номер карты** валидное значение зарегестрированной карты    
      - ввести в поле **Месяц** валидное значение    
      - ввести в поле **Год** валидное значение     
      - ввести в поле **Владелец** значение, состоящее из спецсимволов ---> стандарт банковских карт ISO/IEC 7811-1 предписывает обозначать владельца только латинскими буквами, любые другие символы в этом поле считаются невалидными (пример: !"№;%:?*()/\+-*.,[])    
      - ввести в поле **CVC/CVV** валидное значение    
      - нажать кнопку **Продолжить**    

    **Ожидаемый результат:** отправка данных не выполнена. Под полем ввода **Владелец** появляется сообщение валидации о необходимости заполнения поля **Неверный формат**. В БД запись не добавляется.   

    6.4. Ввод в поле **Владелец** невалидных символов (кириллица)      

      - ввести в поле **Номер карты** валидное значение зарегестрированной карты     
      - ввести в поле **Месяц** валидное значение       
      - ввести в поле **Год** валидное значение       
      - ввести в поле **Владелец** значение, состоящее из символов кириллицы ---> стандарт банковских карт ISO/IEC 7811-1 предписывает обозначать владельца только латинскими буквами, любые другие символы в этом поле считаются невалидными (пример: Иван)       
      - ввести в поле **CVC/CVV** валидное значение      
      - нажать кнопку **Продолжить**      

    **Ожидаемый результат:** отправка данных не выполнена. Под полем ввода **Владелец** появляется сообщение валидации о необходимости заполнения поля **Неверный формат**. В БД запись не добавляется.  

    6.5. Ввод в поле **Владелец** значения из валидных символов, количество которых превышает максимально допустимое         

      - ввести в поле **Номер карты** валидное значение зарегестрированной карты      
      - ввести в поле **Месяц** валидное значение       
      - ввести в поле **Год** валидное значение       
      - ввести в поле **Владелец** значение, из валидных символов, количество которых превышает максимально допустимое ---> стандарт банковских карт ISO/IEC 7811-1 допускает расположение на физическом носителе(карте) 27 символов, включая пробелы, допустим. что значение с большим количеством символов должно быть невалидным (пример: Aaaaaaaaaaaaaaaaaaaaaaaaaaaa)       
      - ввести в поле **CVC/CVV** валидное значение      
      - нажать кнопку **Продолжить**      

    **Ожидаемый результат:** отправка данных не выполнена. Под полем ввода **Владелец** появляется сообщение валидации о необходимости заполнения поля **Неверный формат**. В БД запись не добавляется.  

7. **Проверка валидации поля CVC/CVV**    

    7.1. Не заполненное поле    

      - ввести в поле **Номер карты** валидное значение зарегестрированной карты    
      - ввести в поле **Месяц** валидное значение    
      - ввести в поле **Год** валидное значение     
      - ввести в поле **Владелец** валидное значение     
      - оставить поле **CVC/CVV** не заполненым ---> проверка поля на обязательность заполнения   
      - нажать кнопку **Продолжить**    

    **Ожидаемый результат:** отправка данных не выполнена. Под полем ввода **CVC/CVV** появляется сообщение валидации о необходимости заполнения поля **Неверный формат**. В БД запись не добавляется.      

    7.2. Ввод в поле **CVC/CVV** неполного значения      

      - ввести в поле **Номер карты** валидное значение зарегестрированной карты    
      - ввести в поле **Месяц** валидное значение       
      - ввести в поле **Год** валидное значение       
      - ввести в поле **Владелец** валидное значение      
      - ввести в поле **CVC/CVV** неполное значение ---> ввод в поле значение на один символ меньше валидного (пример: 22)     
      - нажать кнопку **Продолжить**   

    **Ожидаемый результат:** отправка данных не выполнена. Под полем ввода **CVC/CVV** появляется сообщение валидации о необходимости заполнения поля **Неверный формат**. В БД запись не добавляется.  


8. Ввод в поле **Номер карты** неполного значения      

    - ввести в поле **Номер карты** неполное значение ---> ввод в поле значение на один символ меньше валидного (пример: 4444 4444 4444 444)       
    - ввести в поле **Месяц** валидное значение       
    - ввести в поле **Год** валидное значение       
    - ввести в поле **Владелец** валидное значение      
    - ввести в поле **CVC/CVV** валидное значение     
    - нажать кнопку **Продолжить**   

    **Ожидаемый результат:** отправка данных не выполнена. Под полем ввода **Номер карты** появляется сообщение валидации о необходимости заполнения поля **Неверный формат**. В БД запись не добавляется.    


## Оформление тура в кредит  

#### Предусловия:  

- открыть страницу http://localhost:8080/  
- нажать кнопку Купить  
- тест-кейс для данного вида оплаты полностью соответствует тест кейсу оплаты тура картой


















